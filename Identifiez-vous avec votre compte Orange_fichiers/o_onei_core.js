var BLO_Autocompletion=[],ObjectExtended={create:function(){return"function"!=typeof Object.create?function(){function a(){}var b=Object.prototype.hasOwnProperty;return function(c){if("object"!=typeof c)throw TypeError("Object prototype may only be an Object or null");a.prototype=c;var d=new a;if(a.prototype=null,arguments.length>1){var e=Object(arguments[1]);for(var f in e)b.call(e,f)&&(d[f]=e[f])}return d}}():Object.create.apply(Object,arguments)}};!function(){"use strict";function a(a){var b,c,d,e,f,g=a||o_hGetById("o-header"),h=g&&g.querySelectorAll("[data-tag]");c=function(a,b){var c,d=a.getAttribute("data-tag");o_hasClass(a,"o-nav-item")&&!a.hasAttribute("href")&&(a.hasAttribute("data-oevent-category")||a.hasAttribute("data-oevent-action")||a.hasAttribute("data-oevent-label"))&&(c="clic"===b?"clic"+(a.getAttribute("data-oevent-label")?a.getAttribute("data-oevent-label"):"")+"_"+(o_hasClass(a,"o-nav-item-highlight")||o_hasClass(document.documentElement,"o-show-menu")?"fermeture":"ouverture"):"hover"+(a.getAttribute("data-oevent-label")?a.getAttribute("data-oevent-label"):"")),d&&o_link({track_refGstat:d+("hover"===b?"_hover":""),track_page:window.sUrlReferrer,track_type_event:b,oevent_label:c},a)},d=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;o_addEvent(b.firstChild,"mouseover",e),o_removeEvent(b,"mouseleave",d),clearTimeout(window.o_layerNotifTimer)},e=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;o_removeEvent(b,"mouseover",e),o_addEvent(b.parentNode,"mouseleave",d),window.o_layerNotifTimer=setTimeout(function(){c(b,"hover")},b.getAttribute("data-statsHoverTimeout")&&parseInt(b.getAttribute("data-statsHoverTimeout"))||1e3)},f=function(a){var b=a.currentTarget?a.currentTarget:a.srcElement;clearTimeout(window.o_layerNotifTimer),c(b,"clic")};for(var i=0,j=h.length;i<j;i++)b=h[i],b.getAttribute("data-link-changed")||(b.getAttribute("data-tag"),o_addEvent(b,"mousedown",f),b.setAttribute("data-link-changed",!0),"true"===b.getAttribute("data-poponover")&&null!==b.getAttribute("data-statsHoverTimeout")&&o_addEvent(b,"mouseover",e))}function b(a){var b;try{switch(a.badge){case"o-idzone-mail":b=a.text,a.text=o_setMailTitle(b,a.hasText,!0,!0);break;case"o-idzone-smsmms":var c=o_idzone.USER_SMS_NB||0,d=o_idzone.USER_MMS_NB||0;b=c+d;var e="";c>0&&d>0?e="SMS/MMS":c>0?e="SMS":d>0&&(e="MMS"),a.text+='</span><span class="o-sr-only">'+a.text+", "+b+" "+e+" non lu",a.text+=b>1?"s":"";break;case"o-advise":b=a.notifications.filter(function(a){return""===a.Argumentation.argumentationValue.displayCount||"0"===a.Argumentation.argumentationValue.displayCount}).length;var f=document.querySelector("#"+a.link.attr.id+" span.o-sr-only");f.innerText+=", "+b+" notification",f.innerText+=b>1?"s non lues":" non lue"}}catch(g){o_log(g.message,"warn")}}function c(a){var b,c="",d=function(a){return a>0?new OneIClass.Badge(a).render():""};try{switch(o_log("[header] Ajout d'un badge "+a.badge+" à l'élément "+a.type,"info"),a.badge){case"o-idzone-mail":b=o_idzone.USER_MAIL_NB,c=d(b);break;case"o-idzone-smsmms":b=(o_idzone.USER_SMS_NB?o_idzone.USER_SMS_NB:0)+(o_idzone.USER_MMS_NB?o_idzone.USER_MMS_NB:0),c=d(b);break;case"o-advise":var e=a.notifications.filter(function(a){return""===a.Argumentation.argumentationValue.displayCount||"0"===a.Argumentation.argumentationValue.displayCount}).length;e>0&&(c=d(e));break;default:o_log("Notification "+a.badge+" inconnue","warn")}}catch(f){o_log(f.message,"warn")}finally{return c}}function d(a){var b,c=document.querySelector("#o-ribbon-right"),d=document.querySelector("#o-nav-wrapper.o-nav-neutral"),e=document.querySelector("#"+a.link.attr.id),f=document.querySelector("#"+a.layer.attr.id),g=document.querySelector("#"+a.link.attr.id+" .o-link-icon")||e,h=document.querySelector("#"+a.layer.attr.id+" .o-layer-arrow > div");if(f){var i=f.getBoundingClientRect().width;if(!1!==a.layer.rightPos)f.style.right=a.layer.rightPos+"px";else if(!a.layer.fullWidth){f.style.right=Math.ceil(parseInt(getComputedStyle(e).width)/2-i/2)+"px";var j=Math.ceil(f.getBoundingClientRect().right)+o_getScrollLeft();if(b=parseInt(f.getBoundingClientRect().right)+o_getScrollLeft(),c||d){var k=c||d;b-=parseInt(k.getBoundingClientRect().right)+o_getScrollLeft()}f.getBoundingClientRect().left<0&&(f.style.right=parseInt(f.style.right)+f.getBoundingClientRect().left-15+"px"),b>0&&(document.body.scrollWidth-15<=j?f.style.right=parseInt(f.style.right)+b+"px":document.body.scrollWidth+15-j<b&&(f.style.right=parseInt(f.style.right)-(document.body.scrollWidth-15-j)+"px"))}if(h)if(a.layer.centerOnIcon){var l=parseInt(getComputedStyle(g,":before").fontSize);isNaN(l)&&(l=parseInt(getComputedStyle(g,"before").fontSize)),h.style.left=g.getBoundingClientRect().left-f.getBoundingClientRect().left+l/2-h.getBoundingClientRect().width/2+"px"}else h.style.left=e.getBoundingClientRect().left-f.getBoundingClientRect().left+parseInt(getComputedStyle(e).width)/2-h.getBoundingClientRect().width/2+"px"}}function e(a){void 0!==a&&(window.o_magicData=a),window.o_startHeader=function(){head.ready(function(){o_generateHeader()})},o_ready(o_startHeader,"o-header")}function f(a,b){var c,d=function(a){o_log("Rendu d'un élément "+a.type,"info"),(a.condition===undefined||o_checkDisplayConditionItem(a.condition))&&(a.object=new window.OneIClass[a.type](a),a.object._containerId=b,a.html=a.object.render())};if(Array.isArray(a))for(c in a)a.hasOwnProperty(c)&&"function"==typeof window.OneIClass[a[c].type]&&d(a[c]);else"function"==typeof window.OneIClass[a.type]&&d(a)}function g(a){var b;o_log("=== ZONE "+a.name.toUpperCase(),"info");for(b in a.data)a.data.hasOwnProperty(b)&&f(a.data[b],a.id);o_renderTemplate(a.template,a.templateData,a.id,a.name,!!a.append&&a.append);for(b in a.data)a.data.hasOwnProperty(b)&&("function"==typeof o_getNestedValue(a.data[b],["object","addEvent"])&&a.data[b].object.addEvent.apply(a.data[b].object),"function"==typeof o_getNestedValue(a.data[b],["object","addSpecificEvent"])&&a.data[b].object.addSpecificEvent.apply(a.data[b].object))}function h(a,b){if(!a||!b)return!1;""!==b&&(b="-"+b);var c=document.querySelector("#"+a);if(null===c)return!1;o_confCommon.customSearchFormIdContainer=a,o_confCommon.customSearchFormSuffix=b,c.innerHTML=p.renderSearchZone({suffix:b,text:o_confCommon.unifiedSearchEngine.label,taggingCategory:o_confCommon.unifiedSearchEngine.tracking.category,taggingAction:o_confCommon.unifiedSearchEngine.tracking.action,useSubmit:!0}),o_initCompletion({},document.querySelector("#o-search-input"+b),"EC_outer_completion");var d=document.querySelector("#o-search-input"+b);return o_addEvent(d,"focus",function(){document.querySelector("#formSearchCompletion"+b+" .o-search-label").style.display="none"}),o_addEvent(d,"blur",function(){""===d.value&&(document.querySelector("#formSearchCompletion"+b+" .o-search-label").style.display="")}),p.attachTagging("formSearchCompletion"+b),!0}function i(a){""!==o_currentPanel&&o_executeToggle(o_currentPanel),""===a||o_isArrayEquals(a,o_currentPanel)?o_currentPanel="":(o_executeToggle(a),o_currentPanel=a,"o-header o-popin-notif-panel"===a&&"usabilla_live"in window&&window.usabilla_live("trigger","notifs_opened"))}function j(){navig.isIOS&&(document.body.style.cursor="pointer"),document.addEventListener("click",function(a){a=a||window.event;var b=a.target||a.srcElement,c=document.querySelector("#o-nav-burger"),d=document.querySelector("#o-nav-burger.o-hide"),e=b.closest(".o-nav-burger"),f=document.querySelectorAll('[data-state="o-active"]'),g=b.closest('[data-state="o-active"]')||b.closest('[data-state="o-inactive"]')||o_hasState(b,"o-active")||o_hasState(b,"o-inactive");if(!f.length||null===f||g||null===d&&null!==c){if(null!==c&&null===d&&!g&&!e&&!(a.target===document.documentElement&&a.clientX>=o_getDocumentWidth()||a.target===document.documentElement&&a.clientY<=window.innerHeight)){var h=document.querySelector("#o-nav .o-nav-burger"),i=document.querySelector("#o-header #o-nav-burger");o_removeClass(h,"open"),o_addClass(i,"o-nav-megaMenu-items-closing")}}else k()},!0)}function k(a){if(document.querySelectorAll("#o-header "+(a?a+" ":"")+'[data-state="o-active"]').forEach(function(a){o_confCommon.responsiveMobile&&a&&document.querySelector("#"+a.id+" .o-layer-scroll")&&(document.querySelector("#"+a.id+" .o-layer-scroll").style.removeProperty("height"),document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll .o-layer-data').style.removeProperty("height")),o_setState(a,"o-inactive")}),o_confCommon.responsiveMobile){var b=document.querySelector("#o-layer-shade");null!==b&&(b.style.visibility="hidden",b.style.removeProperty("top"))}}function l(){var a=o_getNestedValue(o_confCommon,["footer","id"]);a=a||"o-footer-wrapper",o_confCommon.footer._container=document.querySelector("#"+a+", #"+a+"-hidden"),null===o_confCommon.footer._container&&(document.body.insertAdjacentHTML("beforeEnd",'<footer id="'+a+'"></footer>'),o_confCommon.footer._container=document.querySelector("#"+a)),o_confCommon.footer._container.innerHTML=""}function m(){o_magicData.Footer_Zone={},o_magicData.Footer.forEach(function(a){"undefined"==typeof o_magicData.Footer_Zone[a.name]&&(o_magicData.Footer_Zone[a.name]=[]),o_magicData.Footer_Zone[a.name].push(a)})}function n(a,b){if("undefined"==typeof o_magicData.Footer)return!1;"undefined"!=typeof arguments[0]&&"undefined"!=typeof arguments[0].compactVersion&&(o_confCommon.footer.compactVersion=arguments[0].compactVersion),"undefined"!=typeof arguments[1]&&""!==arguments[1]&&(o_confCommon.footer.id=arguments[1]),"undefined"==typeof o_magicData.Footer_Zone&&m(),l(),o_confCommon.footer.compactVersion?o("ZoneLienLegal"):o_magicData.Footer.forEach(function(a){o(a.name)}),o_confCommon.callbackFooter()}function o(a){if("undefined"==typeof o_magicData.Footer_Zone&&m(),"undefined"==typeof o_magicData.Footer_Zone[a])return!1;o_magicData.Footer_Zone[a].forEach(function(a){(!a.condition||a.condition&&o_checkDisplayConditionItem(a.condition))&&("undefined"==typeof o_confCommon.footer._container&&l(),g({name:a.type,id:o_confCommon.footer._container.id,append:!0,data:[a],template:"{{=data.html}}",templateData:{data:a}}))})}window.OneIClass||(window.OneIClass={}),function(){(window.OneIClass.Text=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return"undefined"!=typeof this.badge&&(this.badgeHtml=c(this)),new o_t('<span{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{img.src}}<img {{@img}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@img}}/>{{/img.src}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}</span>').render(this)}}(),function(){(window.OneIClass.Button=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return"undefined"!=typeof this.badge&&(this.badgeHtml=c(this)),new o_t('<button{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{img.src}}<img {{@img}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@img}}/>{{/img.src}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}</button>').render(this)}}(),function(){(window.OneIClass.Link=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}).prototype.render=function(){return this.img&&this.img.src&&"//"!==this.img.src.substr(0,2)&&"http"!==this.img.src.substr(0,4)&&(this.img.src="//"+staticServ+"/Magic/"+this.img.src),"undefined"==typeof this.hasText&&(this.hasText=!0),"undefined"!=typeof this.badge&&(this.badgeHtml=c(this),b(this)),this.javascript&&(this.attr=this.attr||{},this.attr.href="javascript:void(0)",this.attr.onclick=this.javascript),this.text&&(this.text=this.text.replace(/_/g,"&nbsp;")),this.attr&&this.attr.target&&"_blank"===this.attr.target&&(this.attr.title+=" (nouvelle fenêtre)",this.attr["aria-label"]=this.attr.title),new o_t('{{img.src}}<a{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@attr}}><img{{@img}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@img}}/>{{hasText}}{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{text}}<span class="o-link-text"><span>{{=text}}</span></span>{{/text}}{{/hasText}}</a>{{:img.src}}<a{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{:_val}} {{=_key}}{{/_val}}{{/@attr}}>{{icon}}<span class="o-link-icon" data-icon="{{=icon}}">{{badgeHtml}}{{=badgeHtml}}{{/badgeHtml}}</span>{{/icon}}{{hasText}}{{text}}<span class="o-link-text">{{badgeHtml}}<span aria-hidden="true">{{=text}}</span>{{:badgeHtml}}<span>{{=text}}</span>{{/badgeHtml}}</span>{{/text}}{{:hasText}}{{text}}<span class="o-sr-only">{{=text}}</span>{{/text}}{{/hasText}}</a>{{/img.src}}').render(this)}}(),function(){var a=window.OneIClass.Layer=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"undefined"==typeof this.layer&&(this.layer={}),this.layer.centerOnIcon="undefined"==typeof this.layer.centerOnIcon||this.layer.centerOnIcon,this.layer.fullWidth="undefined"!=typeof this.layer.fullWidth&&this.layer.fullWidth,this.layer.rightPos=!(!this.layer.rightPos||isNaN(parseInt(this.layer.rightPos)))&&this.layer.rightPos,this.layer.setLayerPosition="undefined"==typeof this.layer.setLayerPosition||this.layer.setLayerPosition,this.layer.hideArrow="undefined"!=typeof this.layer.hideArrow&&this.layer.hideArrow};a.prototype.render=function(){if(this.layer){if(this.link.html||f(this.link),"undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){var a;return a=this.layer.setLayerPosition?new o_t('{{layer}}<div{{@layer.attr}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@layer.attr}}>{{!layer.hideArrow}}<div class="o-layer-arrow"><div></div></div>{{/!layer.hideArrow}}{{=layer.html}}</div>{{/layer}}'):new o_t('{{layer}}<div{{@layer.attr}}{{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@layer.attr}}>{{=layer.html}}</div>{{/layer}}'),this.link.html+a.render(this)}return this.link.html}return""},a.prototype.addEvent=function(){if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered)if(this.link&&this.link.attr&&this.link.attr.id&&this.layer&&this.layer.attr&&this.layer.attr.id){var a,b,c=this,e=document.querySelector("#"+c.link.attr.id),f=document.querySelector("#"+c.layer.attr.id),g=e?e.parentNode:null,h=o_createNewEvent("showlayer"),i=document.querySelector("#o-header #o-ribbon"),j=document.querySelector("#o-layer-shade"),l=function(c){c.keyCode?27===c.keyCode&&(o_setState(e,"o-inactive"),o_setState(f,"o-inactive"),o_unsetAriaExpanded(e),o_removeEvent(document,"keydown",l)):(clearTimeout(a),clearTimeout(b),setTimeout(function(){o_setState(e,"o-inactive"),o_setState(f,"o-inactive"),o_unsetAriaExpanded(e)},300),o_removeEvent(document,"keydown",l))},m=function(){j&&(j.style.height=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top)+200+"px")},n=function(a){a.preventDefault(),window.scrollTo(0,i.offsetTop),navig.isIOS&&(document.body.style.top="-"+i.offsetTop+"px"),null!==a.target.closest("a")?a.target.closest("a").focus():document.activeElement.blur(),d(c);var b=document.querySelector("#o-nav-burger"),g=document.querySelector("#o-nav-burger.o-hide");if(null!==b&&null===g){var n=document.querySelector("#o-nav .o-nav-burger"),o=document.querySelector("#o-header #o-nav-burger");o_removeClass(n,"open"),o_addClass(o,"o-nav-megaMenu-items-closing")}var p=document.querySelector('#o-header .o-layer[data-state="o-active"]'),q=document.querySelector('#o-header a[data-state="o-active"]'),r=document.querySelector("#"+f.id+" .o-layer-scroll"),s=document.querySelector("#"+f.id+" .o-layer-scroll .o-layer-data");if(o_toggleState(e,"o-active","o-inactive"),null!==p&&(o_setState(p,"o-inactive"),o_setState(q,"o-inactive"),j&&(j.style.visibility="hidden",j.style.removeProperty("top")),o_removeEvent(document,"keydown",l)),p!==f&&(p&&p.id&&q&&"o-notifLink"!==q.id&&r&&(document.querySelector("#"+p.id+" .o-layer-scroll").style.removeProperty("height"),document.querySelector("#"+p.id+" .o-layer-scroll .o-layer-data").style.removeProperty("height")),o_setState(f,"o-active"),o_link(c.link.tagging&&c.link.tagging.category,c.link.tagging&&c.link.tagging.action,c.link.tagging&&c.link.tagging.label?"clic_tablette_"+c.link.tagging.label:"clic_tablette"),o_confCommon.responsiveMobile||o_addEvent(document,"keydown",l)),o_hasState(f,"o-active")){if(j&&(j.style.top=document.querySelector("#o-ribbon").offsetTop+(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top)+"px"),o_pageScrollLock(),m(),j&&(j.style.visibility="visible"),f&&"o-notifLayer"!==f.id){var t=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top),u=parseInt(r.getBoundingClientRect().bottom-r.getBoundingClientRect().top),v=parseInt(s.getBoundingClientRect().bottom-s.getBoundingClientRect().top);r.style.height=u>t?t+"px":"auto",s.style.height=v+"px"}}else k(),r.style.removeProperty("height"),s.style.removeProperty("height"),j&&(j.style.visibility="hidden",j.style.removeProperty("top")),o_pageScrollUnlock(),window.scrollTo(0,i.offsetTop);e.dispatchEvent(h)};setTimeout(function(){c.layer.setLayerPosition&&d(c),addEventListener("resize",function(){if(d(c),o_confCommon.responsiveMobile){m();var a=document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll'),b=document.querySelector('#o-header .o-layer[data-state="o-active"] .o-layer-scroll .o-layer-data'),e=document.querySelector('#o-header a[data-state="o-active"]');if(a&&e&&"o-notifLink"!==e.id){a.style.removeProperty("height"),b.style.removeProperty("height");var f=window.innerHeight-parseInt(document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top),g=parseInt(a.getBoundingClientRect().bottom-a.getBoundingClientRect().top),h=parseInt(b.getBoundingClientRect().bottom-b.getBoundingClientRect().top);a.style.height=g>f?f+"px":g+"px",b.style.height=h+"px"}}}),navig.isTouchDevice()&&(addEventListener("orientationchange",function(){k(),j.style.visibility="hidden",o_pageScrollUnlock()}),o_confCommon.responsiveMobile&&document.querySelector("#o-layer-shade").addEventListener("click",function(a){a.preventDefault(),k(),j.style.visibility="hidden",j.style.removeProperty("top"),o_pageScrollUnlock(),window.scrollTo(0,i.offsetTop)})),!navig.isTouchDevice()&&g?(g.addEventListener("mouseenter",function(){o_addEvent(document,"keydown",l),a=setTimeout(function(){d(c),o_hideCompletionLR("o-ribbon","o-search-input-ribbon"),o_hideCompletionLR("o-service","o-search-input"),o_hideCompletionLR(o_confCommon.customSearchFormIdContainer,"o-search-input-"+o_confCommon.customSearchFormSuffix),k(),o_setState(e,"o-active"),o_setState(f,"o-active"),o_setAriaExpanded(e);var a=o_getNestedValue(c,["link","tagging","category"]),g=o_getNestedValue(c,["link","tagging","action"]),i=o_getNestedValue(c,["link","tagging","label"]);i=null!==i?"hover_"+i:"hover","number"==typeof o_getNestedValue(c,["trackingDelay"])?b=setTimeout(function(){o_link(a,g,i),e.dispatchEvent(h)},o_getNestedValue(c,["trackingDelay"])):(o_link(a,g,i),e.dispatchEvent(h))},300)}),g.addEventListener("mouseleave",function(a){l(a)})):8!==o_confCommon.display._mode&&e&&e.addEventListener(o_confCommon.responsiveMobile?"touchstart":"click",n,!0)},0);var o=function(a){var b=document.querySelectorAll("#"+f.id+" .o-layer-data a"),d=b[0],g=b[b.length-1];9===a.keyCode&&(a.shiftKey&&document.activeElement===d||document.activeElement===g&&!a.shiftKey||0===b.length)&&(e.focus(),o_setState(e,"o-inactive"),o_setState(f,"o-inactive"),o_unsetAriaExpanded(e),o_removeEvent(document,"keydown",o),o_link(c.link.tagging&&c.link.tagging.category,c.link.tagging&&c.link.tagging.action,"fermeture_clavier")),27===a.keyCode&&(e.focus(),o_setState(e,"o-inactive"),o_setState(f,"o-inactive"),o_unsetAriaExpanded(e),o_removeEvent(document,"keydown",o),o_link(c.link.tagging&&c.link.tagging.category,c.link.tagging&&c.link.tagging.action,"fermeture_clavier"))};o_addEvent(e,"keydown",function(a){13!==a.keyCode&&32!==a.keyCode||p(a)}),o_addEvent(e,"click",function(a){0===a.detail&&p(a)});var p=function(a){a.preventDefault(),d(c),k(),o_setState(e,"o-active"),o_setState(f,"o-active"),o_setAriaExpanded(e);var b=document.querySelector("#"+f.id+" .o-layer-data a");null!==b&&b.focus(),o_addEvent(document,"keydown",o),o_link(c.link.tagging&&c.link.tagging.category,c.link.tagging&&c.link.tagging.action,"ouverture_clavier")}}else o_confCommon.debug&&o_log("Attribut(s) absent(s) dans le JSON pour la configuration du layer de type "+this.template,"warn")}}(),function(){var a=window.OneIClass.Launcher=function(a){window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){for(var a=0,b=this.item.length;a<b;a++)f(this.item[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-title">{{=layer.text}}</div><ul class="o-layer-data">{{@item}}<li class="o-layer-item">{{=_val.html}}</li>{{/@item}}</ul></div>');return this.layer.html=c.render(this),window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){document.querySelector("#"+this.link.attr.id).addEventListener("click",function(a){a.preventDefault()})}}(),function(){var a=window.OneIClass.IdentityConnected=function(a){var b=o_idzone.USER_AVATAR_TINY_PICTURE_URL?o_idzone.USER_AVATAR_TINY_PICTURE_URL.replace("http:",""):"https://proxymedia.woopic.com/api/v1/images/1211%2Favatars%2F0.png";a.link.img={alt:"","aria-hidden":"true",src:b+"?format=80x80",srcset:b+"?format=80x80 1x, "+b+"?format=250x250 2x","class":o_idzone.USER_AVATAR_TINY_PICTURE_URL?"":"o-avatar-default"},o_confCommon.responsiveMobile?(a.link.attr.href="#"+a.layer.attr.id,a.link.hasText=!1):a.link.text='<span class="o-identity-link-title">'+o_getDisplayUserName()+"</span>"+(a.link.text?a.link.text:""),this.identityType=parseInt(o_idzone.USER_IDENT_TYPE),this.showDetail=o_idzone.USER_IDENT_TYPE&&this.identityType<4,window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){var a,b;if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){for(a=0,b=this.item.link.length;a<b;a++)f(this.item.link[a]);for(a=0,b=this.item.button.length;a<b;a++)f(this.item.button[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-data"><div class="o-identityLayer-avatar"><img alt="" class="{{=link.img.class}}" aria-hidden="true" src="{{=link.img.src}}" srcset="{{=link.img.srcset}}" /></div><div class="o-identityLayer-fullname" title="'+o_getDisplayUserName()+'">'+o_getDisplayUserName()+'</div>{{showDetail}}<div class="o-identityLayer-detail" title="details identification">'+this.getDisplayUserDetail()+'</div>{{/showDetail}}{{item.link}}<ul class="o-identityLayer-link">{{@item.link}}<li>{{=_val.html}}</li>{{/@item.link}}</ul>{{/item.link}}{{item.button}}<ul class="o-identityLayer-button">{{@item.button}}<li>{{=_val.html}}</li>{{/@item.button}}</ul>{{/item.button}}</div></div>');this.layer.html=c.render(this)}return window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){var a=this;document.querySelector("#"+a.link.attr.id)&&document.querySelector("#"+a.link.attr.id).addEventListener("click",function(b){if(o_confCommon.responsiveMobile)b.preventDefault();else{var c=o_getNestedValue(a,["link","tagging","category"]),d=o_getNestedValue(a,["link","tagging","action"]),e=o_getNestedValue(a,["link","tagging","label"]);e=e?"clic_"+e:"clic",c&&d&&o_link(c,d,e)}})},a.prototype.getDisplayUserDetail=function(){var a="";return 0===this.identityType||1===this.identityType?a=o_idzone.USER_MAIL_ADDRESS:2===this.identityType?a=o_idzone.USER_MSISDN.replace("33","0"):3===this.identityType&&(a=o_idzone.USER_MAIL_ADDRESS+"<br/>"+o_idzone.USER_MSISDN.replace("33","0")),a}}(),function(){var a=window.OneIClass.IdentityNotConnected=function(a){o_confCommon.responsiveMobile?a.link.hasText=!1:(a.item.button.javascript&&(a.link.javascript=a.item.button.javascript),a.item.button.attr.href&&(a.link.attr.href=a.item.button.attr.href)),window.OneIClass.Layer.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),a.prototype.constructor=a,a.prototype.render=function(){var a,b;if("undefined"==typeof this.layer.isRendered||!1!==this.layer.isRendered){for(this.item.button&&f(this.item.button),this.item.msg&&f(this.item.msg),a=0,b=this.item.link.length;a<b;a++)f(this.item.link[a]);var c=new o_t('<div class="o-layer-scroll"><div class="o-layer-data o-not-auth">{{item.button}}<ul class="o-identityLayer-button"><li>{{=item.button.html}}</li></ul>{{/item.button}}{{item.msg}}<ul class="o-identityLayer-msg"><li>{{=item.msg.html}}</li></ul>{{/item.msg}}{{item.link}}<ul class="o-identityLayer-link">{{@item.link}}<li>{{=_val.html}}</li>{{/@item.link}}</ul>{{/item.link}}</div></div>');this.layer.html=c.render(this)}return window.OneIClass.Layer.prototype.render.apply(this)},a.prototype.addSpecificEvent=function(){var a=this;document.querySelector("#"+a.link.attr.id)&&document.querySelector("#"+a.link.attr.id).addEventListener("click",function(b){if(o_confCommon.responsiveMobile)b.preventDefault();else{var c=o_getNestedValue(a,["link","tagging","category"]),d=o_getNestedValue(a,["link","tagging","action"]),e=o_getNestedValue(a,["link","tagging","label"]);e=e?"clic_"+e:"clic",c&&d&&o_link(c,d,e)}})}}(),function(){var a=window.OneIClass.Logo=function(a){window.OneIClass.Link.prototype.constructor.apply(this,arguments),this.hasText=!1};a.prototype=ObjectExtended.create(window.OneIClass.Link.prototype),a.prototype.constructor=a,a.prototype.render=function(){return"https://r.orange.fr/r/Ohome_accueil"!==o_confCommon.logoUrl&&(this.attr.href=o_confCommon.logoUrl),window.OneIClass.Link.prototype.render.apply(this)}}(),function(){var a=window.OneIClass.LinkEvent=function(a){window.OneIClass.Link.prototype.constructor.apply(this,arguments)};a.prototype=ObjectExtended.create(window.OneIClass.Link.prototype),a.prototype.constructor=a,a.prototype.render=function(){return this.img&&(this.text=null),window.OneIClass.Link.prototype.render.apply(this)}}(),function(){var e=window.OneIClass.Notification=function(a){window.OneIClass.Layer.prototype.constructor.apply(this,arguments);var b;b=null!==localStorage.getItem("o_notif_timestamp")?"&o_notif_timestamp="+localStorage.getItem("o_notif_timestamp"):"",this.cappingdata=[],this.notifications=[],this.canal="06o"+(o_confCommon.responsiveMobile?"mob":""),this.adviseBaseUrl=function(){var a={prod:"https://sso.orange.fr",tb1:"https://sla.mdsp.rec.orange.fr",tb2:"https://tb2n1.orange.fr"};return a[o_idzone.BACKEND_ENV]||a.prod}();var c="/advise/mct/1.1/proposal?targets=NEC[contract:50,transverse:50,contract_c:50,transverse_c:50]&canal="+this.canal+"&canalPhysique=web"+b;null!==o_getNestedValue(o_confCommon,["notification","serviceName"])?this.notificationService="/"+o_confCommon.notification.serviceName:this.notificationService="/pushms",this.adviseProposalUrl=this.adviseBaseUrl+this.notificationService+c,this.adviseCappingUrl=this.adviseBaseUrl+this.notificationService+"/advise/1.2/capping",this.sondage&&("undefined"==typeof this.sondage.note&&(this.sondage.note=5),this.sondage.text&&(this.sondage.tagAct=this.sondage.text.replace(/[ÈÉÊèéê]/g,"e").replace(/[ÂÀâà]/g,"a").replace(/[Òò]/g,"o").replace(/[Ùù]/g,"u").replace(/[^A-Za-z0-9]+/g,"_").replace(/_+$/,"").toLowerCase(),this.sondage.text=this.sondage.text.replace(/_/g,"&nbsp;")))};e.prototype=ObjectExtended.create(window.OneIClass.Layer.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(navig.isIE&&navig.getVersion()<=9)return"";if(this.sondage&&"undefined"!=typeof this.sondage)if(o_sGetCookie("o-notif-sondage")!==hashString(this.sondage.text).toString()){this.sondage.noteHtml="";for(var a=1;a<=this.sondage.note;a++)this.sondage.noteHtml+='<li data-value="'+a+'" data-icon="" data-icon-selected=""></li>'}else o_sGetCookie("o-notif-sondage")===hashString(this.sondage.text).toString()&&delete this.sondage;var b=new o_t('<div class="o-layer-scroll {{!sondage}}o-space-bottom{{/!sondage}}"><div class="o-layer-title">{{=layer.text}}</div><div class="o-layer-data"><div class="o-notifLayer-container"><ul><li class="o-notif-item o-notif-msg info"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">{{=layer.defaultMsg}}</span></li></ul></div></div></div>{{sondage}}<div class="o-notif-sondage"{{@sondage.tagging}}{{_val}} data-tagging-{{=_key}}="{{=_val}}"{{/_val}}{{/@sondage.tagging}}><div class="o-notifLayer-sondage-question">{{=sondage.text}}</div><div class="o-notifLayer-sondage-reponse"><ul class="o-notifLayer-sondage-notes">{{=sondage.noteHtml}}</ul><a href="#" class="o-notifLayer-sondage-button">Envoyer</a></div></div>{{/sondage}}');return this.layer.html=b.render(this),window.OneIClass.Layer.prototype.render.apply(this)},e.prototype.addSpecificEvent=function(){var a=this,b=document.querySelector("#o-notifLayer");if("function"==typeof this.getNotificationsCallback){var c=new MutationObserver(function(b){b.forEach(function(){a.getNotificationsCallback()}),c.disconnect()});c.observe(document.querySelector("#o-header #o-notifLayer .o-layer-data .o-notifLayer-container ul"),{childList:!0})}navig.isIE&&navig.getVersion()<=9||this.getNotifications(),o_confCommon.responsiveMobile?document.querySelector("#o-header #"+this.link.attr.id).addEventListener("touchstart",function(a){a.preventDefault(),o_confCommon.responsiveMobile&&o_hasState(b,"o-active")&&f()}):document.querySelector("#o-header #"+this.link.attr.id).addEventListener("click",function(a){a.preventDefault()});var d=function(){var b,c,d,e=!1,f=localStorage.getItem("ntf")?localStorage.getItem("ntf"):"",g=f?f.split("elemNtf="):[],h=[],i=o_confCommon.responsiveMobile?o_getDocumentHeight():document.querySelector("#o-notifLayer .o-layer-scroll .o-layer-data").getBoundingClientRect().bottom;document.querySelectorAll("#o-notifLayer .o-layer-scroll .o-layer-data li a").forEach(function(a){c=a.getBoundingClientRect(),(d=c.top+.75*(c.bottom-c.top))<i&&(b=a.getAttribute("data-adv-tracker"),(!g.length||g.length&&!o_isInArray(b,g))&&(h.push(b),f+="elemNtf="+a.getAttribute("data-adv-tracker"),e=!0))}),a._prepareNotificationsCall(h),e&&(h=[],o_ajax(a.adviseCappingUrl,{method:"POST",withCredentials:!0,timeout:1e4,synchronous:!0,data:"canal="+a.canal+"&cappingdata="+JSON.stringify(a.cappingdata),onSuccess:function(a){localStorage.setItem("o_notif_timestamp",""+ +new Date),localStorage.setItem("ntf",f)}}))};document.querySelector("#o-header #o-notifLink").addEventListener("showlayer",function(b){d();var c=document.querySelector("#o-header #o-notifLink .o-notif-badge");setTimeout(function(){null!==c&&c.parentNode.removeChild(c);var b=document.querySelector("#"+a.link.attr.id+" span.o-sr-only");b.innerText=b.innerText.replace(/, \d+ [\w\s]+/gi,"")},300)});var e=null;(o_confCommon.responsiveMobile?document.querySelector("#o-notifLayer .o-layer-scroll"):document.querySelector("#o-notifLayer .o-layer-scroll .o-layer-data ul")).addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(function(){d()},300)},!1);var f=function(){
var a=document.querySelector(".o-notif-sondage"),b=parseInt(getComputedStyle(document.querySelector("#o-notifLayer .o-layer-title")).paddingLeft),c=a&&"auto"!=getComputedStyle(document.querySelector("#o-header #o-notifLayer .o-notifLayer-container"),":after").right?parseInt(getComputedStyle(document.querySelector("#o-header #o-notifLayer .o-notifLayer-container"),":after").right):0,d=document.querySelector("#o-ribbon").getBoundingClientRect().bottom-document.querySelector("#o-ribbon").getBoundingClientRect().top,e=document.querySelector("#o-notifLayer .o-layer-title").getBoundingClientRect().bottom-document.querySelector("#o-notifLayer .o-layer-title").getBoundingClientRect().top,f=document.querySelector("#o-notifLayer .o-layer-scroll"),g=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container > ul"),h=g.getBoundingClientRect().bottom-g.getBoundingClientRect().top,i=a?a.getBoundingClientRect().bottom-a.getBoundingClientRect().top:c,j=getComputedStyle(document.querySelector("#o-notifLayer"),null).getPropertyValue("border-width"),k=window.innerHeight-i-d-parseInt(j),l=parseInt(h+(a?0:b))+e;f.style.height=k>l?l+"px":k+"px"};o_confCommon.responsiveMobile&&addEventListener("resize",function(){f()}),0!==document.querySelectorAll("#o-header .o-notif-sondage").length&&(document.querySelectorAll("#o-header .o-notif-sondage li").forEach(function(a){a.addEventListener("click",function(){null!==document.querySelector("#o-header .o-notif-sondage li[data-selected]")&&document.querySelector("#o-header .o-notif-sondage li[data-selected]").removeAttribute("data-selected"),a.setAttribute("data-selected","");var b=parseInt(a.getAttribute("data-value"));document.querySelectorAll("#o-header .o-notif-sondage li").forEach(function(a){parseInt(a.getAttribute("data-value"))<=b?o_addClass(a,"o-notif-sondage-selected"):o_removeClass(a,"o-notif-sondage-selected")})})}),document.querySelector("#o-header .o-notif-sondage .o-notifLayer-sondage-button").addEventListener("click",function(b){b.preventDefault();var c=document.querySelector("#o-header .o-notif-sondage"),d=document.querySelector("#o-header .o-notif-sondage li[data-selected]"),e={category:"sondage_notif_validation",action:a.sondage.tagAct};if(null!==d){var g=d.getAttribute("data-value");o_link(e.category,e.action,g),document.querySelector("#o-header #o-notifLayer").setAttribute("data-sondage","a"),""!==a.sondage.endText&&(c.innerHTML='<div class="o-notifLayer-sondage-end o-icomoon">'+a.sondage.endText+"</div>",o_confCommon.responsiveMobile&&f()),o_bSetCookie("o-notif-sondage",hashString(a.sondage.text),"domain = .orange.fr, expires=60")}}))},e.prototype.renderNotifications=function(){var e=o_hGetById("o-layer-notif-data"),f=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),g=(o_confCommon.tracking.refz.service||document.location.hostname.replace(".orange.fr",""))+"_"+(o_confCommon.tracking.refz.page||"default")+"_header_notif";"undefined"!=typeof this.badge&&(document.querySelector("#o-notifLink .o-link-icon").innerHTML=c(this),b(this),d(this));var h=new o_t('{{@notifications}}<li class="o-notif-item"><a href="{{=_val.Argumentation.argumentationValue.url}}" class="o-notif-link{{_val.Argumentation.argumentationValue.ifNewNotif}} o-notif-new{{/_val.Argumentation.argumentationValue.ifNewNotif}}"data-offer-code="{{=_val.offerSpecificationCode}}" data-parent-offer-code="{{=_val.parentOfferSpecificationCode}}" data-adv-tracker="{{=_val.Argumentation.argumentationValue.adv_tracker}}" data-tag="navwg_rubanGP3_notif_{{=_val.offerSpecificationCode}}_{{=_key}}{{_val.Argumentation.argumentationValue.displayTag}}_{{=_val.Argumentation.argumentationValue.displayTag}}{{/_val.Argumentation.argumentationValue.displayTag}}"data-oevent-category="header_notification" data-oevent-action="{{=_val.offerSpecificationCode}}_{{=_key}}{{_val.Argumentation.argumentationValue.displayTag}}_{{=_val.Argumentation.argumentationValue.displayTag}}{{/_val.Argumentation.argumentationValue.displayTag}}"data-pdb-zid="'+g+'" data-pdb-sc="adv" data-pdb-idc="{{=_val.offerSpecificationCode}}{{_val.parentOfferSpecificationCode}},{{=_val.parentOfferSpecificationCode}}{{/_val.parentOfferSpecificationCode}}" data-pdb-ta="{{=_val.Argumentation.argumentationValue.adv_tracker}}" data-pdb-vi="{{=_val.Argumentation.argumentationValue.img}}" ><div class="o-notif-icon">{{_val.Argumentation.argumentationValue.img}}<object class="o-notif-object" data="{{=_val.Argumentation.argumentationValue.img}}" type="image/jpg"><span data-icon="" /></object>{{:_val.Argumentation.argumentationValue.img}}<span data-icon="" />{{/_val.Argumentation.argumentationValue.img}}</div><span class="o-notif-text">{{=_val.Argumentation.argumentationValue.text2}}{{_val.Argumentation.argumentationValue.contractLabel}}<span class="o-notif-contrat">{{=_val.Argumentation.argumentationValue.contractLabel}}{{_val.Argumentation.argumentationValue.pubLineNoFormated}} - {{=_val.Argumentation.argumentationValue.pubLineNoFormated}}{{/_val.Argumentation.argumentationValue.pubLineNoFormated}}</span>{{/_val.Argumentation.argumentationValue.contractLabel}}</span></a></li>{{/@notifications}}');o_addClass(e,"o-has-notif"),this.notifications.length>5&&!navig.isTouchDevice()&&o_addClass(e,"o-notif-scroll"),f.innerHTML=h.render(this),a(f);for(var i,j=f.querySelectorAll("a.o-notif-link"),k=function(a){var b=a.currentTarget.dataset,c=a.currentTarget.href;if(b!==undefined&&o_ajax(m.adviseCappingUrl,{method:"POST",withCredentials:!0,timeout:1e4,synchronous:!0,data:"canal="+m.canal+'&cappingdata=[ {"type":1, "codes" : [ {"m" : "'+b.offerCode+'","p" : "'+b.parentOfferCode+'","t" : "'+b.advTracker+'","a" : "enter"}] } ]',onLoadEnd:function(){navig.isFF&&(document.location=c)},onSuccess:function(){localStorage.setItem("o_notif_timestamp",""+ +new Date)}}),navig.isFF)return a.preventDefault(),!1},l=0;l<j.length;l++){i=j[l];var m=this;o_addEvent(i,"click",k)}},e.prototype.renderServiceError=function(){var a=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),b=new o_t('<li class="o-notif-item o-notif-msg error"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">Ce service est momentanément indisponible.</span></li>');a.innerHTML=b.render(this)},e.prototype._prepareNotificationsCall=function(a){this.cappingdata=[];var b={type:0,codes:[]};for(var c in this.notifications)if(this.notifications.hasOwnProperty(c)){var d=this.notifications[c];if(o_isInArray(d.Argumentation.argumentationValue.adv_tracker,a)){var e={m:d.offerSpecificationCode,p:d.parentOfferSpecificationCode,t:d.Argumentation.argumentationValue.adv_tracker,a:"display"};b.codes.push(e)}}this.cappingdata.push(b)},e.prototype.getNotifications=function(){o_log("Rendu des notifications","info");var a=this,b=document.querySelector("#o-notifLayer .o-notif-sondage");o_ajax(this.adviseProposalUrl,{method:"GET",accept:"application/json",withCredentials:!0,timeout:1e4,onSuccess:function(c){var d=o_hGetById("o-notifLayer");try{if(a._parseNotifResponse(c.responseText),!1===d)throw new Error("L'élément d'ID 'o-notifLayer' est manquant.");if(o_addClass(d,"o-notif-loaded"),a.notifications.length>0)a.renderNotifications(),a.sondage&&"undefined"!=typeof a.sondage?d.setAttribute("data-sondage","q"):d.setAttribute("data-sondage","nq");else{o_addClass(d,"o-notif-nomessages"),d.setAttribute("data-sondage","nq"),b&&(b.outerHTML="");var e=document.querySelector("#o-notifLayer .o-layer-data .o-notifLayer-container ul"),f=new o_t('<li class="o-notif-msg info"><span data-icon="" class="o-notif-icon"> </span><span class="o-notif-text">Vous n\'avez pas de notifications.</span></li>');e.innerHTML=f.render(this)}a.link.tagging.label="nbNotif_"+a.notifications.length}catch(g){d&&(d.setAttribute("data-oevent-label","_erreur"),o_addClass(d,"o-notif-error"),d.setAttribute("data-sondage","nq"),b&&(b.outerHTML="")),a.renderServiceError()}},onError:function(){var c=o_hGetById("o-notifLayer");o_addClass(c,"o-notif-error"),c.setAttribute("data-sondage","nq"),b&&(b.outerHTML=""),o_log("Erreur à la réception des notifs Advise","warn"),a.renderServiceError()}})},e.prototype._parseNotifResponse=function(a){var b,c,d,e,f,g,h=JSON.parse(a);for(e in h)if(h.hasOwnProperty(e))for(f in h[e].NEC)h[e].NEC.hasOwnProperty(f)&&("transverse"!==f&&"transverse_c"!==f||"0"===e)&&h[e].NEC[f].forEach(function(a){"ZZZ"!==a.coredata.main&&"DEFAULT"!==a.coredata.main&&""!==a.response.OffersSpecification.Argumentation.argumentationValue.text2&&("transverse"!==f&&"transverse_c"!==f||(a.response.OffersSpecification.Argumentation.argumentationValue.contractLabel=""),b=a.response.OffersSpecification.Argumentation.argumentationValue.urlMob,b!==undefined&&(a.response.OffersSpecification.Argumentation.argumentationValue.url=b),c=a.response.OffersSpecification.Argumentation.argumentationValue.images["img"+(o_confCommon.responsiveMobile?"044":"043")],""!==c&&"https://"!==c&&(a.response.OffersSpecification.Argumentation.argumentationValue.img=c),g=a.response.OffersSpecification.Argumentation.argumentationValue.pubLineNo,g&&(a.response.OffersSpecification.Argumentation.argumentationValue.pubLineNoFormated=g.match(/\d{2}/g).join(" ")),d=a.response.OffersSpecification.Argumentation.argumentationValue.clickCount,a.response.OffersSpecification.Argumentation.argumentationValue.ifNewNotif=void 0!==d&&(""===d||"0"===d),this.notifications.push(a.response.OffersSpecification))}.bind(this));this.notifications.sort(this.sortFunction)},e.prototype.sortFunction=function(a,b){var c=Date.now(),d=parseInt(a.Argumentation.argumentationValue.priority,10)||0,e=parseInt(b.Argumentation.argumentationValue.priority,10)||0,f=parseInt(a.Argumentation.argumentationValue.displayDateFirst,10)||c,g=parseInt(b.Argumentation.argumentationValue.displayDateFirst,10)||c,h=parseInt(a.Argumentation.argumentationValue.pubLineNo,10)||0,i=parseInt(b.Argumentation.argumentationValue.pubLineNo,10)||0;return g-f||e-d||a.offerSpecificationCode.localeCompare(b.offerSpecificationCode)||i-h}}(),function(){(window.OneIClass.Badge=function(a){this.maxValue=999,this.value=a,this.value>this.maxValue&&(this.value="+999")}).prototype.render=function(){return new o_t('<span aria-hidden="true" class="o-notif-badge">{{=value}}</span>').render(this)}}(),function(){(window.OneIClass.FooterSyndication=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")}).prototype.render=function(){return this.item.forEach(function(a){f(a)}),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}><div class="o-footer-content" data-widthlimit><div><span>{{=text}}</span>{{@item}}{{=_val.html}}{{/@item}}</div></div></div>').render(this)}}(),function(){(window.OneIClass.FooterAccesDirect=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")}).prototype.render=function(){return this.item.forEach(function(a){f(a)}),"light"===o_confCommon.footer.theme&&(this.isLightTheme=!0),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}><div class="o-footer-content" data-widthlimit><div><ul>{{@item}}<li>{{=_val.html}}</li>{{/@item}}</ul></div></div></div>').render(this)}}(),function(){var a=window.OneIClass.FooterLienLegal=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.year=(new Date).getFullYear(),this.attr=Object.assign({},a.attr),o_confCommon.footer.compactVersion&&(this.attr.id+="-compact"),"light"===o_confCommon.footer.theme&&(this.attr||(this.attr={}),this.attr["class"]||(this.attr["class"]=""),this.attr["class"]+=" o-footer-theme-light")};a.prototype.render=function(){return o_confCommon.footer.compactVersion&&(this.compactVersion=!0),this.item.forEach(function(a){f(a)}),new o_t('<div{{@attr}} {{_val}} {{=_key}}="{{=_val}}"{{/_val}}{{/@attr}}>{{compactVersion}}<div class="o-footer-content" data-widthlimit><ul id="o-footer-lienLegal-compact-content">{{@item}}<li>{{=_val.html}}</li>{{/@item}}</ul><a href="#o-footer-lienLegal-compact-content" class="o-footer-lienLegal-compact-btn">&copy; Orange {{=year}}</a></div>{{:compactVersion}}<div class="o-footer-content" data-widthlimit><div><ul>{{@item}}<li>{{=_val.html}}</li>{{/@item}}<li>&copy; Orange {{=year}}</li></ul></div></div>{{/compactVersion}}</div>').render(this)},a.prototype.addEvent=function(){o_confCommon.footer.compactVersion&&document.querySelector("#o-footer-lienLegal-compact .o-footer-lienLegal-compact-btn").addEventListener("click",function(a){a.preventDefault();var b=document.querySelector("#o-footer-lienLegal-compact");null!==b.getAttribute("data-show")?(b.removeAttribute("data-show"),o_link("footer","clic_fermeture")):(b.setAttribute("data-show",""),o_link("footer","clic_ouverture"))})}}();var p={renderSearchZone:function(a){var b={suffix:"",taggingCategory:"",taggingAction:"",text:"Rechercher sur Orange",action:"//lemoteur.orange.fr",useSubmit:!1,icon:""};a=Object.assign(b,a);var c='<form role="search" class="o-search-form" id="formSearchCompletion'+a.suffix+'" name="formSearchCompletion'+a.suffix+'" action="'+a.action+'" method="get"';return a.taggingCategory&&a.taggingAction&&""!==a.taggingCategory&&""!==a.taggingAction&&(c+='data-tagging-category="'+a.taggingCategory+'" data-tagging-action="'+a.taggingAction+'"'),c+='><label data-placeholder="'+a.text+'" class="o-search-label" for="o-search-input'+a.suffix+'"></label><input aria-label="'+a.text+'" autocomplete="off" class="o-search-input" id="o-search-input'+a.suffix+'" name="rdata" type="text" /><input value="web_fr" name="bhv" type="hidden" /><input name="module" value="orange" type="hidden" />',a.useSubmit?c+='<input class="o-search-submit" alt="rechercher" title="rechercher" value="'+a.icon+'" type="submit" />':c+='<span class="o-search-icon o-icomoon" data-icon="'+a.icon+'"></span>',c+='<div class="o-search-result cmpl ec" style="visibility: hidden; display: none;"></div></form>'},attachTagging:function(a){if(!a)return!1;var b=document.querySelector("#"+a),c=document.querySelector("#"+a+" .o-search-input");b.addEventListener("submit",function(){var a=c.getAttribute("data-tagging-label");o_link(b.getAttribute("data-tagging-category"),b.getAttribute("data-tagging-action"),a||c.value)})}};if(o_confCommon.headerDisplay){var q,r="desktop";o_confCommon.responsiveMobile&&(r="mobile"),function(){({_mode:2,endsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},setOConfCommonSegment:function(a){["isMobEnt","isNeutral","isTunnel"].forEach(function(b){o_confCommon[b]=b===a})},isMobent:function(){var a=o_getNestedValue(o_idzone,["MOBILE_OFFER_TYPE"]);return o_confCommon.isMobEnt||!!a&&("BUSINESSPOSTPAID"===a||"BUSINESSPREPAID"===a||"BUSINESSSEMIPREPAID"===a)},isNeutral:function(){return o_confCommon.isNeutral},isTunnel:o_confCommon.isTunnel,detectionDeprecated:function(){this.isMobent()?(q="mobent",this._mode=6,this.setOConfCommonSegment("isMobEnt")):this.isNeutral()?(q="ntr",this._mode=7,this.setOConfCommonSegment("isNeutral")):this.isTunnel&&(q="res",this._mode=8,this.setOConfCommonSegment("isTunnel"))},modeCalculated:function(){var a=window.location.hostname;return this.endsWith(a,"caraibe.orange.fr")?3:this.endsWith(a,"reunion.orange.fr")?4:this.endsWith(a,"mayotte.orange.fr")?5:this.endsWith(a,"businesslounge.orange.fr")?6:2},modeDisplay:function(a){switch(o_hasDevValue("_mode")&&(a=o_confCommon.dev._mode),a){case 2:q="res",this._mode=2,this.detectionDeprecated();break;case 3:q="oca",this._mode=3,this.detectionDeprecated(),3===this._mode&&(o_defaultMoteurModule="caraibe");break;case 4:q="reu",this._mode=4,this.detectionDeprecated();break;case 5:q="may",this._mode=5,this.detectionDeprecated();break;case 6:q="mobent",this._mode=6,this.detectionDeprecated();break;case 7:q="ntr",this._mode=7,this.detectionDeprecated();break;case 8:q="res",this._mode=8,this.detectionDeprecated()}o_confCommon.display._mode=this._mode},init:function(){var a=this.modeCalculated(),b=2;!o_sGetCookie("nav")&&a>=3&&a<=5?b=a:!1===isNaN(parseInt(o_sGetCookie("nav")))&&parseInt(o_sGetCookie("nav"))>=3&&parseInt(o_sGetCookie("nav"))<=5&&(b=parseInt(o_sGetCookie("nav"))),o_bSetCookie("nav",b,"domain = .orange.fr,expiresMinute=15");var c=o_confCommon.display.persist;c>1?this.modeDisplay(c):1===c?this.modeDisplay(a):2!==a?this.modeDisplay(a):this.modeDisplay(b)}}).init()}(),o_confCommon.loadJSONData&&head.load({jsonMenu:document.location.protocol+"//"+staticServ+"/Magic/oneI."+q+"."+r+".4.5.5.json"})}window.OneI||(window.OneI={}),window.o_currentPanel="",window.o_addBadge=window.OneI.o_addBadge=c,window.o_onGetData=window.OneI.o_onGetData=e,window.o_registerTaggingPlan=window.OneI.o_registerTaggingPlan=a,window.o_renderElement=window.OneI.o_renderElement=f,window.o_buildZone=window.OneI.o_buildZone=g,window.o_setLayerPosition=window.OneI.o_setLayerPosition=d,window.o_generateSearchZone=window.OneI.o_generateSearchZone=h,window.o_toggleDisplay=window.OneI.o_toggleDisplay=i,window.o_inactiveLiensLayers=window.OneI.o_inactiveLiensLayers=k,window.o_closeAllLayers=window.OneI.o_closeAllLayers=j,window.o_generateFooter=window.OneI.o_generateFooter=n,window.o_generateFooterZone=window.OneI.o_generateFooterZone=o,window.o_searchZoneManager=window.OneI.o_searchZoneManager=p}();